{% extends 'layout.html' %}


{% block content %}
<div class="content">
    <h1>Exchange trading volumes and market share.</h1>
    <div class="jumbotron">
        <p>Here you can see amounts of stocks traded daily for the last 2 weeks and also US Equity trade market share of IEX exchange.</p>
    </div>
    <div class="col-md-8" style="display:inline-block">
        <canvas id="myChart"></canvas>
        <br>
        <hr>
        <br>
        <canvas id="marketPercent"></canvas>
    </div>

<script type="text/javascript">
	
var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
    type: 'line',

    data: {
        labels: ["{{data.0.date}}","{{data.1.date}}",
         "{{data.2.date}}", "{{data.3.date}}",
          "{{data.4.date}}", "{{data.5.date}}",
           "{{data.6.date}}", "{{data.7.date}}", "{{data.8.date}}", "{{data.9.date}}", "{{data.10.date}}", "{{data.11.date}}", "{{data.12.date}}", "{{data.13.date}}"],
        datasets: [{
            label: "Volume",
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [{{data.0.volume}}, {{data.1.volume}},
            {{data.2.volume}}, {{data.3.volume}},
            {{data.4.volume}}, {{data.5.volume}},
            {{data.6.volume}},{{data.7.volume}},
            {{data.8.volume}},{{data.9.volume}},
            {{data.10.volume}},{{data.11.volume}},
            {{data.12.volume}},{{data.13.volume}}],
        },
            ]
    },

    options: {
        layout: {
            padding: {
                left: 50,
                right: 0,
                top: 0,
                bottom: 0
            }
        }
    }
});
var ctx2 = document.getElementById('marketPercent').getContext('2d');
var chart2 = new Chart(ctx2, {
    type: 'line',

    data: {
        labels: ["{{data.0.date}}","{{data.1.date}}",
         "{{data.2.date}}", "{{data.3.date}}",
          "{{data.4.date}}", "{{data.5.date}}",
           "{{data.6.date}}", "{{data.7.date}}", "{{data.8.date}}", "{{data.9.date}}", "{{data.10.date}}", "{{data.11.date}}", "{{data.12.date}}", "{{data.13.date}}"],
        datasets: [{
            label: "Market Share",
            backgroundColor: 'rgb(0, 0, 255)',
            borderColor: 'rgb(0, 0, 255)',
            data: [{{data.0.marketShare}}, {{data.1.marketShare}},
            {{data.2.marketShare}}, {{data.3.marketShare}},
            {{data.4.marketShare}}, {{data.5.marketShare}},
            {{data.6.marketShare}},{{data.7.marketShare}},
            {{data.8.marketShare}},{{data.9.marketShare}},
            {{data.10.marketShare}},{{data.11.marketShare}},
            {{data.12.marketShare}},{{data.13.marketShare}}],
        },
            ]
    },

    options: {}
});

</script>
</div>
{% endblock content %}
